<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">Фильтр</h3>
    </div>
    <!-- /.box-header -->
    <!-- form start -->
    <form role="form" action="{% url 'list_unit' kwargs.program_id kwargs.factory %}" method="get" novalidate>
        {{ form.media }}
        {{ form.program_id }}
        <div class="box-body">
            <div class="form-group">
                <label for="exampleInputEmail1">{{ form.module_id.label_tag }}</label>
                {{ form.module_id }}
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">{{ form.topic_id.label_tag }}</label>
                {{ form.topic_id }}
            </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
            <button type="submit" class="btn btn-primary">Поиск</button>
            <a href="{% url 'list_unit' kwargs.program_id kwargs.factory %}"
               class="btn btn-default btn-flat pull-right">Очистить</a>
        </div>
    </form>
</div>
<script>
    $(document).ready(function () {
        // Bind on continent field change
        $(':input[name$=module_id]').on('change', function () {
            // Get the field prefix, ie. if this comes from a formset form
            var prefix = $(this).getFormPrefix();

            // Clear the autocomplete with the same prefix
            $(':input[name=' + prefix + 'topic_id]').val(null).trigger('change');
        });
    });
</script>